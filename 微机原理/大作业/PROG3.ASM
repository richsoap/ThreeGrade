NAME PROG3
STACK SEGMENT STACK
	STA DB 50 DUP(?)
	TOP EQU LENGTH STA
STACK ENDS

DATA SEGMENT 
	WAITNOTE DB "Please input a word ","$"
	OUTNOTE DB "Output word is ","$"
	ESCNOTE DB "End process","$"
	LF EQU 0AH
	ESCA EQU 1BH
DATA ENDS

CODE SEGMENT
	ASSUME CS:CODE,DS:DATA,ES:DATA,SS:STACK
START:
	MOV AX,DATA
	MOV DS,AX
	MOV ES,AX
	MOV AX,STACK
	MOV SS,AX
	MOV SP,TOP
WAITSTATE:
	LEA DX,WAITNOTE
	MOV AH,09H
	INT 21H;OUTPUT WAITNOTE
	MOV AH,01H
	INT 21H
	PUSH AX;READ WORD
	CALL OUTLF
	CMP AL,ESCA
	JZ EXIT
	LEA DX,OUTNOTE
	MOV AH,09H
	INT 21H;OUTPUT OUTNOTE
	POP DX
	INC DL
	MOV AH,02H
	INT 21H;OUTPUT NEW WORD
	CALL OUTLF
	JMP WAITSTATE
EXIT:
	LEA DX,ESCNOTE
	MOV AH,09H
	INT 21H;OUTPUT ESCNOTE
	MOV AX,4C00H
	INT 21H;RETURN 0

OUTLF PROC 
	MOV AH,02H
	MOV DL,LF
	INT 21H
	RET
OUTLF ENDP

	
CODE ENDS

END START
