# 8086
## 简介
* 16位处理器,20位地址线
* 封装:双列直插，40管脚
* 时钟频率:5MHz-10MHz
* 供电:单相5V
## 编程结构
两个部件，
### 执行单元EU
* 分析指令，执行指令
* 一个16位ALU(算术逻辑单元)
* 8个通用寄存器
> AX,BX,CX,DX;BP,SP,SI,DI

* 标识寄存器FLAGS
* EU控制系统
### 总线结构单元BIU
* 控制完成全部总线操作，取指令，读数据并写运算结果
* 20位地址加法器
* 4个16位段寄存器
>
CS:代码段寄存器:</br>
DS:数据段寄存器</br>
ES:扩展段寄存器</br>
SS:堆栈段寄存器

* 一个16为指令指针寄存器:IP(下一条指令的地址)
* 6字节的指令队列缓冲器
* 总线控制逻辑
### 指令流水(Pipeline)
实现多条指令重叠执行的重要技术，可有效提高总线传输效率和整个系统的工作效率
### BIU和EU的配合
功能独立，并行工作
* 当BIU有两个以上空字节时，BIU自动取指令，填充指令队列(Cache缓存指令队列)
* EU执行完一条指令，立即从BIU中取下一条指令
* EU在执行指令是，需要进行存储或IO访问时，向BIU发出总线访问请求，若BIU空闲，则立即进行总线访问
* EU在执行转移，调用及返回指令时，指令队列自动清除，BIU重新取值填充队列(预测技术)
### 寄存器
#### 4个通用数据寄存器
#### 16位指针寄存器
SP堆栈指针寄存器,BP基址寄存器
#### 16位变址寄存器
SI源变址寄存器，DI目的变址寄存器
#### 16位段寄存器
CS:代码段寄存器
DS:数据段寄存器
ES:扩展段寄存器
SS:堆栈段寄存器
##### 地址的分段
将内存每64K分为一段，每段的起始地址要能被16整除，低次为0</br>
先确定段地址(起始地址)，左移四位(补0)，再加上偏移量</br>
不同寄存器查不同的地方
#### FLAGS
TF单步操作，IF中断允许，DF方向标志
CF进位标识(无符号数，超范围)，OF溢出标志(有符号数，超范围)，PF(奇偶标志，低8位中1的个数为偶数时为1)，AF辅助进位标志(低4位向高4位进借位)，ZF零标志，SF符号标志(最高位)，
## 引脚定义
### 分时复用
### 地址锁存
将地址存下来
### 总线驱动
提高总线的负载能力，抗干扰能力
### 工作模式
最小模式:只有一个CPU
最大模式:加上协处理器
### 定义
* AD0-AD15,地址/数据，双向，三态
* A19/S6-A16/S3，地址/状态，输出三台
* ALE地址锁存信号
* DEN数据使能
* DT/R数据总线驱动
* Reset:除了CS为FFFF，其他都为0
* Ready：慢速储存器IO
## 总线的形成
* MN/MX接高电平，决定工作模式
* 8282*3进行地址锁存(使能一直有效)
* 8286*2数据收发器(使能受CPU控制)
*

## 总线操作时序
## 存储器和I/O组织
